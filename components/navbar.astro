---
import { Image } from "astro:assets";
import Logo from "/public/logo_raddigitalsolutions.webp";
---

<!-- Skip Navigation Link for Accessibility -->
<a href="#main-content" class="skip-link">Skip to main content</a>

<!-- ============================================ --><!--                 Navigation                   --><!-- ============================================ -->
<header id="cs-navigation" data-shrink="false">
  <div class="cs-container">
    <!--Nav Logo-->
    <a href="/#home" class="cs-logo" aria-label="back to home">
      <Image src={Logo} alt="RAD Digital Solutions Logo" width={190} height={112} fetchpriority="high" />
    </a>
    <!--Navigation List-->
    <nav class="cs-nav" role="navigation" aria-label="Main navigation">
      <!--Mobile Nav Toggle-->
      <button class="cs-toggle" aria-label="mobile menu toggle" aria-expanded="false" aria-controls="cs-expanded">
        <div class="cs-box" aria-hidden="true">
          <span class="cs-line cs-line1" aria-hidden="true"></span>
          <span class="cs-line cs-line2" aria-hidden="true"></span>
          <span class="cs-line cs-line3" aria-hidden="true"></span>
        </div>
      </button>
      <!-- We need a wrapper div so we can set a fixed height on the cs-ul in case the nav list gets too long from too many dropdowns being opened and needs to have an overflow scroll. This wrapper acts as the background so it can go the full height of the screen and not cut off any overflowing nav items while the cs-ul stops short of the bottom of the screen, which keeps all nav items in view no matter how many there are-->
      <div class="cs-ul-wrapper">
        <ul id="cs-expanded" class="cs-ul" aria-expanded="false">
          <li class="cs-li">
            <a href="/#home" class="cs-li-link"> Home </a>
          </li>
          <li class="cs-li">
            <a href="/#use-cases" class="cs-li-link">Use Cases</a>
          </li>
          <li class="cs-li cs-dropdown" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false">
            <span class="cs-li-link cs-dropdown-trigger">
              Services
              <img
                src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/down.svg"
                alt=""
                class="cs-drop-icon"
                aria-hidden="true"
                decoding="async"
                width="15"
                height="15"
              />
            </span>
            <ul class="cs-drop-ul" role="menu">
              <li class="cs-drop-li" role="none">
                <a href="/services/it-consulting" class="cs-li-link cs-drop-link" role="menuitem">IT Consulting & Networking</a>
              </li>
              <li class="cs-drop-li" role="none">
                <a href="/services/business-intelligence" class="cs-li-link cs-drop-link" role="menuitem">Business Intelligence</a>
              </li>
              <li class="cs-drop-li" role="none">
                <a href="/services/process-automation" class="cs-li-link cs-drop-link" role="menuitem">Process Automation</a>
              </li>
              <li class="cs-drop-li" role="none">
                <a href="/services/project-management" class="cs-li-link cs-drop-link" role="menuitem">Project Management Solutions</a>
              </li>
              <li class="cs-drop-li" role="none">
                <a href="/services/business-development" class="cs-li-link cs-drop-link" role="menuitem">Business Development</a>
              </li>
            </ul>
          </li>
          <li class="cs-li">
            <a href="/#about" class="cs-li-link"> About </a>
          </li>
          <li class="cs-li cs-dropdown" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false">
            <span class="cs-li-link cs-dropdown-trigger">
              Resources
              <img
                src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/down.svg"
                alt=""
                class="cs-drop-icon"
                aria-hidden="true"
                decoding="async"
                width="15"
                height="15"
              />
            </span>
            <ul class="cs-drop-ul" role="menu">
              <li class="cs-drop-li" role="none">
                <a href="/user-story-template" class="cs-li-link cs-drop-link" role="menuitem">User Story Template</a>
              </li>
              <li class="cs-drop-li" role="none">
                <a href="/free-it-infrastructure-checklist" class="cs-li-link cs-drop-link" role="menuitem">IT Infrastructure Checklist</a>
              </li>
              <li class="cs-drop-li" role="none">
                <a href="/bi-value-calculator" class="cs-li-link cs-drop-link" role="menuitem">BI Value Calculator</a>
              </li>
            </ul>
          </li>
          <li class="cs-li">
            <a href="/faq" class="cs-li-link">FAQ</a>
          </li>
          <!-- Mobile CTA Buttons -->
          <li class="cs-li cs-mobile-cta">
            <button class="cs-li-link cs-mobile-contact-btn js-contact-modal-trigger" type="button">Contact Us</button>
          </li>
          <li class="cs-li cs-mobile-cta">
            <a href="https://wa.me/31615078622" target="_blank" rel="noopener noreferrer" class="cs-li-link cs-mobile-whatsapp-btn">
              <img src="/whatsapp-icon.svg" alt="" aria-hidden="true" style="width: 18px; height: 18px; margin-right: 8px; filter: brightness(0) saturate(100%);" />
              WhatsApp
            </a>
          </li>
        </ul>
      </div>
    </nav>
    <button type="button" class="cs-button-solid cs-nav-button js-contact-modal-trigger">Contact Us</button>
    <a
    href="https://wa.me/31615078622"
    target="_blank"
    rel="noopener noreferrer"
    class="cs-whatsapp-button cs-nav-button"
    aria-label="Chat with us on WhatsApp"
  >
    <img src="/whatsapp-icon.svg" alt="" aria-hidden="true" />
    WhatsApp
  </a>  </div>
</header>

<style>
  /* Skip Navigation Link - Accessibility */
  .skip-link {
    position: absolute;
    top: -100px;
    left: 0;
    background: var(--primary);
    color: white;
    padding: 0.75rem 1.5rem;
    text-decoration: none;
    font-weight: 700;
    z-index: 100000;
    border-radius: 0 0 0.5rem 0;
    transition: top 0.3s;
  }

  .skip-link:focus {
    top: 0;
    outline: 3px solid var(--primaryLight);
    outline-offset: 2px;
  }

  /*-- -------------------------- -->
<---     Mobile Navigation      -->
<--- -------------------------- -*/
  /* Mobile - 1023px */
  @media only screen and (max-width: 63.9375rem) {
    body.cs-open {
      overflow: hidden;
    }
    #cs-navigation {
      width: 100%;
      /* prevents padding and border from affecting height and width */
      box-sizing: border-box;
      padding: 0.75rem 1rem;
      background-color: #fff;
      box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
      position: sticky;
      top: 0;
      z-index: 10000;
      transition: padding 0.3s ease;
    }
    #cs-navigation:before {
      content: "";
      width: 100%;
      height: 0vh;
      background: rgba(0, 0, 0, 0.6);
      opacity: 0;
      display: block;
      position: absolute;
      top: 100%;
      right: 0;
      z-index: -1100;
      transition:
        height 0.5s,
        opacity 0.5s;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }
    #cs-navigation.cs-active:before {
      height: 150vh;
      opacity: 1;
    }
    #cs-navigation.cs-active .cs-ul-wrapper {
      opacity: 1;
      transform: scaleY(1);
      transition-delay: 0.15s;
    }
    #cs-navigation.cs-active .cs-li {
      opacity: 1;
      transform: translateY(0);
    }
    #cs-navigation .cs-container {
      width: 100%;
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }
    #cs-navigation .cs-logo {
      width: 25%;
      min-width: 140px;
      max-width: 12rem;
      height: 100%;
      min-height: 60px; /* Reserve minimum space to prevent CLS */
      margin: 0 auto 0 0;
      /* prevents padding and border from affecting height and width */
      box-sizing: border-box;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }
    #cs-navigation .cs-logo img {
      width: auto;
      max-width: 100%;
      height: 100%;
      /* ensures the image never overflows the container. It stays contained within it's width and height and expands to fill it then stops once it reaches an edge */
      object-fit: contain;
      /* Prevent layout shift by reserving space with aspect ratio */
      aspect-ratio: 190 / 112;
      display: block;
    }
    #cs-navigation .cs-toggle {
      /* 44px - 48px */
      width: clamp(2.75rem, 6vw, 3rem);
      height: clamp(2.75rem, 6vw, 3rem);
      margin: 0 0 0 auto;
      background-color: transparent;
      border: none;
      border-radius: 0.25rem;
      display: flex;
      justify-content: center;
      align-items: center;
      touch-action: manipulation;
      cursor: pointer;
    }
    #cs-navigation .cs-toggle:focus-visible {
      outline: 2px solid var(--primaryLight);
      outline-offset: 2px;
    }
    #cs-navigation .cs-active .cs-line1 {
      top: 50%;
      transform: translate(-50%, -50%) rotate(225deg);
    }
    #cs-navigation .cs-active .cs-line2 {
      top: 50%;
      transform: translate(-50%, -50%) translateY(0) rotate(-225deg);
      transform-origin: center;
    }
    #cs-navigation .cs-active .cs-line3 {
      opacity: 0;
      bottom: 100%;
    }
    #cs-navigation .cs-box {
      /* 24px - 28px */
      width: clamp(1.5rem, 2vw, 1.75rem);
      /* 14px - 16px */
      height: clamp(0.875rem, 1.5vw, 1rem);
      position: relative;
    }
    #cs-navigation .cs-line {
      width: 100%;
      height: 2px;
      background-color: #1a1a1a;
      border-radius: 2px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }
    #cs-navigation .cs-line1 {
      top: 0;
      transition:
        transform 0.5s,
        top 0.3s,
        left 0.3s;
      animation-duration: 0.7s;
      animation-timing-function: ease;
      animation-direction: normal;
      animation-fill-mode: forwards;
      transform-origin: center;
    }
    #cs-navigation .cs-line2 {
      top: 50%;
      transform: translateX(-50%) translateY(-50%);
      transition:
        top 0.3s,
        left 0.3s,
        transform 0.5s;
      animation-duration: 0.7s;
      animation-timing-function: ease;
      animation-direction: normal;
      animation-fill-mode: forwards;
    }
    #cs-navigation .cs-line3 {
      bottom: 0;
      transition:
        bottom 0.3s,
        opacity 0.3s;
    }
    #cs-navigation .cs-ul-wrapper {
      width: 100%;
      height: auto;
      padding-bottom: 2.4em;
      background-color: #fff;
      box-shadow: inset rgba(0, 0, 0, 0.2) 0px 8px 24px;
      opacity: 0;
      position: absolute;
      top: 100%;
      left: 0;
      z-index: -1;
      overflow: hidden;
      transform: scaleY(0);
      transition:
        transform 0.4s,
        opacity 0.3s;
      transform-origin: top;
    }
    #cs-navigation .cs-ul {
      width: 100%;
      height: auto;
      max-height: 65vh;
      margin: 0;
      padding: 3rem 0 0 0;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      gap: 1.25rem;
      overflow: auto;
    }
    #cs-navigation .cs-li {
      text-align: center;
      list-style: none;
      width: 100%;
      margin-right: 0;
      opacity: 0;
      /* transition from these values */
      transform: translateY(-4.375rem);
      transition:
        transform 0.6s,
        opacity 0.9s;
    }
    #cs-navigation .cs-li:nth-of-type(1) {
      transition-delay: 0.05s;
    }
    #cs-navigation .cs-li:nth-of-type(2) {
      transition-delay: 0.1s;
    }
    #cs-navigation .cs-li:nth-of-type(3) {
      transition-delay: 0.15s;
    }
    #cs-navigation .cs-li:nth-of-type(4) {
      transition-delay: 0.2s;
    }
    #cs-navigation .cs-li:nth-of-type(5) {
      transition-delay: 0.25s;
    }
    #cs-navigation .cs-li:nth-of-type(6) {
      transition-delay: 0.3s;
    }
    #cs-navigation .cs-li-link {
      /* 16px - 24px */
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      line-height: 1.2em;
      text-decoration: none;
      margin: 0;
      padding: 0.75rem 1rem;
      color: var(--headerColor);
      display: inline-block;
      position: relative;
      min-height: 44px;
      display: flex;
      align-items: center;
    }
    #cs-navigation .cs-li-link:before {
      /* active state underline */
      content: "";
      width: 100%;
      height: 1px;
      background: currentColor;
      opacity: 1;
      display: none;
      position: absolute;
      bottom: -0.125rem;
      left: 0;
    }
    #cs-navigation .cs-li-link.cs-active:before {
      display: block;
    }
    #cs-navigation .cs-li-link:focus-visible {
      outline: 2px solid var(--primaryLight);
      outline-offset: 2px;
      border-radius: 0.25rem;
    }
    #cs-navigation .cs-button-solid {
      display: none;
    }
    /* Mobile CTA buttons styling */
    #cs-navigation .cs-mobile-cta {
      width: 90%;
      max-width: 400px;
    }
    #cs-navigation .cs-mobile-contact-btn,
    #cs-navigation .cs-mobile-whatsapp-btn {
      background-color: var(--primaryLight);
      color: #fff;
      font-weight: 700;
      border-radius: 0.5rem;
      padding: 1rem 1.5rem;
      min-height: 48px;
      width: 100%;
      justify-content: center;
      transition: all 0.3s ease;
      touch-action: manipulation;
      border: none;
      cursor: pointer;
      font-family: inherit;
      font-size: inherit;
    }
    #cs-navigation .cs-mobile-contact-btn:before,
    #cs-navigation .cs-mobile-whatsapp-btn:before {
      display: none;
    }
    #cs-navigation .cs-mobile-contact-btn:focus-visible,
    #cs-navigation .cs-mobile-whatsapp-btn:focus-visible {
      outline: 3px solid rgba(52, 131, 197, 0.5);
      outline-offset: 2px;
    }
    #cs-navigation .cs-mobile-whatsapp-btn {
      background-color: #25D366;
    }
  }
  /*-- -------------------------- -->
<---     Navigation Dropdown    -->
<--- -------------------------- -*/
  /* Mobile - 1023px */
  @media only screen and (max-width: 63.9375rem) {
    #cs-navigation .cs-li {
      text-align: center;
      width: 100%;
      display: block;
    }
    #cs-navigation .cs-dropdown {
      color: var(--bodyTextColorWhite);
      position: relative;
      cursor: pointer;
    }
    #cs-navigation .cs-dropdown.cs-active .cs-drop-ul {
      height: auto;
      margin: 0.75rem 0 0 0;
      padding: 0.75rem 0;
      opacity: 1;
      visibility: visible;
    }
    #cs-navigation .cs-dropdown.cs-active .cs-drop-link {
      opacity: 1;
    }
    #cs-navigation .cs-dropdown .cs-li-link {
      position: relative;
      transition: opacity 0.3s;
    }
    #cs-navigation .cs-dropdown .cs-li-link:focus-visible {
      outline: 2px solid var(--primaryLight);
      outline-offset: 2px;
    }
    #cs-navigation .cs-drop-icon {
      width: 0.9375rem;
      height: auto;
      position: absolute;
      top: 50%;
      right: -1.25rem;
      transform: translateY(-50%);
      transition: transform 0.3s ease;
    }
    #cs-navigation .cs-dropdown.cs-active .cs-drop-icon {
      transform: translateY(-50%) rotate(180deg);
    }
    #cs-navigation .cs-drop-ul {
      width: 100%;
      height: 0;
      margin: 0;
      padding: 0;
      background-color: var(--primary);
      opacity: 0;
      display: flex;
      visibility: hidden;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      gap: 1rem;
      overflow: hidden;
      transition:
        padding 0.3s,
        margin 0.3s,
        height 0.3s,
        opacity 0.3s,
        visibility 0.3s;
    }
    #cs-navigation .cs-drop-li {
      list-style: none;
    }
    #cs-navigation .cs-li-link.cs-drop-link {
      /* 14px - 16px */
      font-size: clamp(0.875rem, 2vw, 1.25rem);
      color: #fff;
      padding: 0.875rem 1.5rem;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
    }
    #cs-navigation .cs-li-link.cs-drop-link:focus-visible {
      outline: 2px solid rgba(255, 255, 255, 0.5);
      outline-offset: 2px;
    }
  }
  /* Desktop - 1024px */
  @media only screen and (min-width: 64rem) {
    #cs-navigation .cs-dropdown {
      position: relative;
    }
    #cs-navigation .cs-dropdown:hover,
    #cs-navigation .cs-dropdown:focus-within {
      cursor: pointer;
    }
    #cs-navigation .cs-dropdown:hover .cs-drop-ul,
    #cs-navigation .cs-dropdown:focus-within .cs-drop-ul {
      opacity: 1;
      visibility: visible;
      transform: scaleY(1);
    }
    #cs-navigation .cs-dropdown:hover .cs-drop-li,
    #cs-navigation .cs-dropdown:focus-within .cs-drop-li {
      opacity: 1;
      transform: translateY(0);
    }
    #cs-navigation .cs-drop-icon {
      width: 0.9375rem;
      height: auto;
      display: inline-block;
      margin-left: 0.25rem;
      transition: transform 0.3s ease;
    }
    #cs-navigation .cs-dropdown:hover .cs-drop-icon,
    #cs-navigation .cs-dropdown:focus-within .cs-drop-icon {
      transform: rotate(180deg);
    }
    #cs-navigation .cs-drop-ul {
      min-width: 12.5rem;
      margin: 0;
      padding: 0;
      background-color: #fff;
      box-shadow: rgba(149, 157, 165, 0.2) 0px 10px 16px;
      opacity: 0;
      border-bottom: 5px solid var(--primary);
      visibility: hidden;
      /* if you have 8 or more links in your dropdown nav, uncomment the columns property to make the list into 2 even columns. Change it to 3 or 4 if you need extra columns. Then remove the transition delays on the cs-drop-li so they don't have weird scattered animations */
      position: absolute;
      top: 100%;
      z-index: -100;
      overflow: hidden;
      transform: scaleY(0);
      transition:
        transform 0.3s,
        visibility 0.3s,
        opacity 0.3s;
      transform-origin: top;
    }
    #cs-navigation .cs-drop-li {
      font-size: 1rem;
      text-decoration: none;
      list-style: none;
      width: 100%;
      height: auto;
      color: var(--bodyTextColor);
      opacity: 0;
      display: block;
      transform: translateY(-0.625rem);
      transition:
        opacity 0.6s,
        transform 0.6s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(1) {
      transition-delay: 0.05s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(2) {
      transition-delay: 0.1s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(3) {
      transition-delay: 0.15s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(4) {
      transition-delay: 0.2s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(5) {
      transition-delay: 0.25s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(6) {
      transition-delay: 0.3s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(7) {
      transition-delay: 0.35s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(8) {
      transition-delay: 0.4s;
    }
    #cs-navigation .cs-drop-li:nth-of-type(9) {
      transition-delay: 0.45s;
    }
    #cs-navigation .cs-li-link.cs-drop-link {
      font-size: 1rem;
      line-height: 1.5em;
      text-decoration: none;
      white-space: nowrap;
      width: 100%;
      /* prevents padding and border from affecting height and width */
      box-sizing: border-box;
      padding: 0.75rem;
      color: var(--bodyTextColor);
      display: block;
      transition:
        color 0.3s,
        background-color 0.3s;
    }
    #cs-navigation .cs-li-link.cs-drop-link:hover,
    #cs-navigation .cs-li-link.cs-drop-link:focus-visible {
      background-color: #f7f7f7;
      outline: none;
    }
    #cs-navigation .cs-li-link.cs-drop-link:before {
      display: none;
    }
  }
  /*-- -------------------------- -->
<---     Desktop Navigation     -->
<--- -------------------------- -*/
  /* Small Desktop - 1024px */
  @media only screen and (min-width: 64rem) {
    #cs-navigation {
      width: 100%;
      /* prevents padding and border from affecting height and width */
      box-sizing: border-box;
      padding: 0 1rem;
      background-color: #fff;
      box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
      position: sticky;
      top: 0;
      z-index: 10000;
      transition: padding 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    }

    /* Sticky-shrink behavior */
    #cs-navigation[data-shrink="true"] {
      padding: 0.5rem 1rem;
    }

    #cs-navigation[data-shrink="true"] .cs-logo {
      height: 3.5rem;
    }

    #cs-navigation[data-shrink="true"] .cs-li {
      padding: 1.25rem 0;
    }

    #cs-navigation .cs-container {
      width: 100%;
      max-width: 80rem;
      margin: auto;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      gap: 1.5rem;
    }
    #cs-navigation .cs-toggle {
      display: none;
    }
    #cs-navigation .cs-logo {
      width: 22%;
      max-width: 26rem;
      height: 5rem;
      /* margin-right auto pushes everything away from it to the right */
      margin: 0 auto 0 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
      transition: height 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    }
    #cs-navigation .cs-logo:focus-visible {
      outline: 2px solid var(--primaryLight);
      outline-offset: 4px;
      border-radius: 0.25rem;
    }
    #cs-navigation .cs-logo img {
      width: auto;
      max-width: 100%;
      height: 100%;
      /* ensures the image never overflows the container. It stays contained within it's width and height and expands to fill it then stops once it reaches an edge */
      object-fit: contain;
      /* Prevent layout shift by reserving space with aspect ratio */
      aspect-ratio: 190 / 112;
      display: block;
    }
    #cs-navigation .cs-ul {
      width: 100%;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      /* 20px - 36px */
      gap: clamp(1.25rem, 2.6vw, 2.25rem);
    }
    #cs-navigation .cs-li {
      list-style: none;
      padding: 2rem 0;
      /* prevent flexbox from squishing it */
      flex: none;
      transition: padding 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    }
    #cs-navigation .cs-li-link {
      /* 14px - 16px */
      font-size: clamp(0.975rem, 1vw, 1rem);
      line-height: 1.5em;
      text-decoration: none;
      margin: 0;
      color: var(--bodyTextColor);
      display: block;
      position: relative;
      transition: color 0.3s ease;
    }
    #cs-navigation .cs-li-link:hover {
      color: var(--primaryLight);
    }
    #cs-navigation .cs-li-link:hover:before {
      width: 100%;
    }
    #cs-navigation .cs-li-link.cs-active {
      color: var(--primaryLight);
      font-weight: 700;
    }
    #cs-navigation .cs-li-link.cs-active:before {
      width: 100%;
    }
    #cs-navigation .cs-li-link:focus-visible {
      outline: 2px solid var(--primaryLight);
      outline-offset: 4px;
      border-radius: 0.25rem;
    }
    #cs-navigation .cs-li-link:before {
      /* active state underline */
      content: "";
      width: 0%;
      height: 2px;
      background: var(--primaryLight);
      opacity: 1;
      display: block;
      position: absolute;
      bottom: 0rem;
      left: 0;
      transition: width 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    }
    /* Hide mobile CTA buttons on desktop */
    #cs-navigation .cs-mobile-cta {
      display: none;
    }
    /* Shared styles for all navigation buttons */
    #cs-navigation .cs-button-solid,
    #cs-navigation .cs-whatsapp-button {
      font-size: 0.875rem !important;
      font-weight: 700;
      line-height: 1.5;
      text-align: center;
      text-decoration: none;
      min-width: 9.5rem !important;
      max-width: 9.5rem !important;
      width: 9.5rem !important;
      min-height: 44px !important;
      max-height: 44px !important;
      height: 44px !important;
      margin: 0 !important;
      box-sizing: border-box;
      padding: 0 0.75rem !important;
      color: #fff;
      background-color: var(--primary);
      border: none;
      border-radius: 0.25rem;
      display: inline-flex !important;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      position: relative;
      z-index: 1;
      overflow: hidden;
      white-space: nowrap;
      cursor: pointer;
      font-family: inherit;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      touch-action: manipulation;
      flex-shrink: 0;
      vertical-align: middle;
    }

    #cs-navigation .cs-button-solid:before,
    #cs-navigation .cs-whatsapp-button:before {
      content: "";
      width: 0%;
      height: 100%;
      background: var(--primaryLight);
      opacity: 1;
      border-radius: 0.25rem;
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
      transition: width 0.3s ease;
    }

    #cs-navigation .cs-button-solid:hover:before,
    #cs-navigation .cs-whatsapp-button:hover:before {
      width: 100%;
    }

    #cs-navigation .cs-button-solid:hover,
    #cs-navigation .cs-whatsapp-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(52, 131, 197, 0.3);
    }

    #cs-navigation .cs-button-solid:focus-visible,
    #cs-navigation .cs-whatsapp-button:focus-visible {
      outline: 3px solid rgba(52, 131, 197, 0.5);
      outline-offset: 2px;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(52, 131, 197, 0.3);
    }
  }

  /* WhatsApp button icon styling */
  .cs-whatsapp-button img {
    width: 18px;
    height: 18px;
    filter: brightness(0) invert(1);
    flex-shrink: 0;
  }

  /* Hide both buttons on mobile */
  @media only screen and (max-width: 63.9375rem) {
    #cs-navigation .cs-whatsapp-button {
      display: none;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    #cs-navigation,
    #cs-navigation *,
    #cs-navigation *::before,
    #cs-navigation *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    .skip-link {
      transition: none;
    }
  }
</style>
<script>
  // ============================================
  // Utility Functions
  // ============================================

  /**
   * Closes the mobile menu and updates ARIA states
   */
  function closeMobileMenu() {
    const hamburgerMenu = document.querySelector("#cs-navigation .cs-toggle") as HTMLButtonElement | null;
    const navbar = document.querySelector("#cs-navigation") as HTMLElement | null;
    const body = document.body;

    if (hamburgerMenu) {
      hamburgerMenu.classList.remove("cs-active");
      hamburgerMenu.setAttribute("aria-expanded", "false");
    }
    if (navbar) {
      navbar.classList.remove("cs-active");
    }
    body.classList.remove("cs-open");
    updateAriaExpanded();
  }

  /**
   * Updates the aria-expanded attribute on the navigation list
   */
  function updateAriaExpanded() {
    const csUL = document.querySelector("#cs-expanded") as HTMLElement | null;
    if (csUL) {
      const csExpanded = csUL.getAttribute("aria-expanded");
      csUL.setAttribute("aria-expanded", csExpanded === "false" ? "true" : "false");
    }
  }

  /**
   * Sends GTM tracking event
   */
  function trackEvent(eventName: string, eventParams: Record<string, any> = {}) {
    if (typeof window !== 'undefined' && window.dataLayer) {
      window.dataLayer.push({
        event: eventName,
        ...eventParams
      });
    }
  }

  // ============================================
  // Mobile Menu Toggle
  // ============================================

  const hamburgerMenu = document.querySelector("#cs-navigation .cs-toggle") as HTMLButtonElement | null;
  const navbar = document.querySelector("#cs-navigation") as HTMLElement | null;
  const body = document.body;

  if (hamburgerMenu && navbar) {
    hamburgerMenu.addEventListener("click", function () {
      const isActive = hamburgerMenu.classList.toggle("cs-active");
      navbar.classList.toggle("cs-active");
      body.classList.toggle("cs-open");

      // Update ARIA states
      hamburgerMenu.setAttribute("aria-expanded", isActive ? "true" : "false");
      updateAriaExpanded();

      // Track menu toggle
      trackEvent(isActive ? 'mobile_menu_open' : 'mobile_menu_close');

      // Focus management: move focus to first menu item when opening
      if (isActive) {
        setTimeout(() => {
          const firstLink = navbar.querySelector('.cs-li-link') as HTMLElement | null;
          firstLink?.focus();
        }, 200);
      }
    });
  }

  // ============================================
  // Mobile Menu Swipe-to-Close Gesture
  // ============================================

  let touchStartY = 0;
  let touchEndY = 0;

  const mobileMenu = document.querySelector("#cs-navigation .cs-ul-wrapper") as HTMLElement | null;

  if (mobileMenu) {
    mobileMenu.addEventListener('touchstart', (e: TouchEvent) => {
      touchStartY = e.changedTouches[0].screenY;
    }, { passive: true });

    mobileMenu.addEventListener('touchend', (e: TouchEvent) => {
      touchEndY = e.changedTouches[0].screenY;
      handleSwipeGesture();
    }, { passive: true });
  }

  function handleSwipeGesture() {
    const swipeDistance = touchStartY - touchEndY;

    // If swiped down more than 100px, close menu
    if (swipeDistance < -100) {
      closeMobileMenu();
      trackEvent('mobile_menu_swipe_close');
    }
  }

  // ============================================
  // Dropdown Menu Toggle (Mobile)
  // ============================================

  const dropdowns = Array.from(
    document.querySelectorAll("#cs-navigation .cs-dropdown")
  ) as HTMLElement[];

  for (const dropdown of dropdowns) {
    dropdown.addEventListener("click", function (e) {
      // Only toggle on mobile (this script only runs in mobile context anyway)
      const target = e.target as HTMLElement;

      // Don't toggle if clicking on a link inside dropdown
      if (target.classList.contains('cs-drop-link')) {
        return;
      }

      const isActive = dropdown.classList.toggle("cs-active");
      dropdown.setAttribute("aria-expanded", isActive ? "true" : "false");

      // Track dropdown interaction
      const dropdownName = dropdown.querySelector('.cs-dropdown-trigger')?.textContent?.trim() || 'Unknown';
      trackEvent('dropdown_toggle', {
        dropdown_name: dropdownName,
        action: isActive ? 'open' : 'close',
        device: 'mobile'
      });
    });

    // Keyboard support: Enter and Space to toggle
    dropdown.addEventListener("keydown", function (e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        dropdown.click();
      }
    });
  }

  // ============================================
  // Escape Key to Close Mobile Menu
  // ============================================

  document.addEventListener('keydown', (e: KeyboardEvent) => {
    if (e.key === 'Escape' && body.classList.contains('cs-open')) {
      closeMobileMenu();
      hamburgerMenu?.focus(); // Return focus to hamburger
      trackEvent('mobile_menu_escape_close');
    }
  });

  // ============================================
  // Focus Trapping in Mobile Menu
  // ============================================

  document.addEventListener('keydown', (e: KeyboardEvent) => {
    if (!body.classList.contains('cs-open') || e.key !== 'Tab') {
      return;
    }

    const focusableElements = navbar?.querySelectorAll(
      'a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])'
    );

    if (!focusableElements || focusableElements.length === 0) return;

    const firstElement = focusableElements[0] as HTMLElement;
    const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;

    // If shift+tab on first element, go to last
    if (e.shiftKey && document.activeElement === firstElement) {
      e.preventDefault();
      lastElement.focus();
    }
    // If tab on last element, go to first
    else if (!e.shiftKey && document.activeElement === lastElement) {
      e.preventDefault();
      firstElement.focus();
    }
  });

  // ============================================
  // Smooth Scrolling for Internal Links
  // ============================================

  document.addEventListener('DOMContentLoaded', function() {
    const navLinks = document.querySelectorAll('.cs-li-link[href^="/#"]') as NodeListOf<HTMLAnchorElement>;

    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        const targetId = link.getAttribute('href')?.substring(2); // Remove '/#'

        if (targetId) {
          const targetElement = document.getElementById(targetId);

          if (targetElement) {
            // Element exists on current page - use smooth scrolling
            e.preventDefault();

            // Close mobile menu if open
            if (body.classList.contains('cs-open')) {
              closeMobileMenu();
            }

            // Smooth scroll to target
            targetElement.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });

            // Track navigation
            trackEvent('nav_link_click', {
              link_text: link.textContent?.trim(),
              target_section: targetId
            });
          } else {
            // Element doesn't exist - allow normal navigation to home page
            if (body.classList.contains('cs-open')) {
              closeMobileMenu();
            }
          }
        }
      });
    });
  });

  // ============================================
  // Active Page Highlighting
  // ============================================

  function highlightActivePage() {
    const currentPath = window.location.pathname;
    const currentHash = window.location.hash;

    // Get all navigation links
    const navLinks = document.querySelectorAll('.cs-li-link') as NodeListOf<HTMLAnchorElement>;

    navLinks.forEach(link => {
      const href = link.getAttribute('href');

      if (!href) return;

      // Check for exact path match
      if (href === currentPath || href === currentPath + currentHash) {
        link.classList.add('cs-active');
      }
      // Check for hash-only links on homepage
      else if (href.startsWith('/#') && currentPath === '/' && href === '/' + currentHash) {
        link.classList.add('cs-active');
      }
      // Check for service page matches
      else if (currentPath.includes('/services/') && href === currentPath) {
        link.classList.add('cs-active');
        // Also highlight "Services" dropdown trigger
        const servicesDropdown = document.querySelector('.cs-dropdown .cs-dropdown-trigger');
        servicesDropdown?.parentElement?.querySelector('.cs-dropdown-trigger')?.classList.add('cs-active');
      }
      // Check for resources page matches
      else if ((currentPath.includes('/user-story-template') ||
                currentPath.includes('/free-it-infrastructure-checklist') ||
                currentPath.includes('/bi-value-calculator')) &&
               href === currentPath) {
        link.classList.add('cs-active');
        // Also highlight "Resources" dropdown trigger
        const resourcesLinks = link.closest('.cs-dropdown');
        if (resourcesLinks) {
          const trigger = resourcesLinks.querySelector('.cs-dropdown-trigger');
          trigger?.classList.add('cs-active');
        }
      }
    });
  }

  // Run on page load and hash change
  highlightActivePage();
  window.addEventListener('hashchange', highlightActivePage);

  // ============================================
  // Sticky-Shrink Behavior on Scroll
  // ============================================

  let lastScrollY = window.scrollY;
  const navigation = document.querySelector('#cs-navigation') as HTMLElement | null;

  function handleStickyNav() {
    const currentScrollY = window.scrollY;

    if (navigation) {
      // Shrink when scrolled down more than 100px
      if (currentScrollY > 100) {
        navigation.setAttribute('data-shrink', 'true');
      } else {
        navigation.setAttribute('data-shrink', 'false');
      }
    }

    lastScrollY = currentScrollY;
  }

  // Throttle scroll events for performance
  let ticking = false;
  window.addEventListener('scroll', () => {
    if (!ticking) {
      window.requestAnimationFrame(() => {
        handleStickyNav();
        ticking = false;
      });
      ticking = true;
    }
  });

  // ============================================
  // Contact Modal Integration (Custom Events)
  // ============================================

  const contactModalTriggers = document.querySelectorAll('.js-contact-modal-trigger') as NodeListOf<HTMLElement>;

  contactModalTriggers.forEach(trigger => {
    trigger.addEventListener('click', (e) => {
      e.preventDefault();

      // Dispatch custom event for modal to listen to
      const event = new CustomEvent('openContactModal', {
        bubbles: true,
        detail: { source: 'navbar' }
      });
      document.dispatchEvent(event);

      // Track CTA click
      trackEvent('cta_click', {
        cta_location: 'navbar',
        cta_text: trigger.textContent?.trim() || 'Contact Us'
      });
    });
  });

  // ============================================
  // WhatsApp Button Tracking
  // ============================================

  const whatsappButtons = document.querySelectorAll('.cs-whatsapp-button, .cs-mobile-whatsapp-btn') as NodeListOf<HTMLAnchorElement>;

  whatsappButtons.forEach(button => {
    button.addEventListener('click', () => {
      trackEvent('whatsapp_click', {
        button_location: 'navbar',
        device: button.classList.contains('cs-mobile-whatsapp-btn') ? 'mobile' : 'desktop'
      });
    });
  });

  // ============================================
  // TypeScript Declarations
  // ============================================

  declare global {
    interface Window {
      dataLayer: any[];
    }
  }
</script>
